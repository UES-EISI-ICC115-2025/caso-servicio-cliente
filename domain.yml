version: "3.1"

# 1. User Intents: What the user can say
intents:
  - greet
  - goodbye
  - affirm # e.g., "yes", "that one"
  - deny # e.g., "no", "not now"
  - thanks
  - out_of_scope # For additional requests outside the main task
  - request_internet_service
  - choose_plan
  - provide_email
  - provide_rating

# 2. Entities: Data the bot needs to extract
entities:
  - plan
  - email
  - rating

# 3. Slots: Memory for the conversation
slots:
  plan:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: plan
  email:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: email
  rating:
    type: float
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: rating

# 4. Bot Responses (Utterances)
responses:
  # Initial/Greeting
  utter_greet:
    - text: "Hello! Welcome to our service. How can I assist you today?"
  utter_ask_service:
    - text: "Great! I can help you with things like **contracting a new service**, **checking plan details**, or **getting technical support**."

  # Service Path Responses
  utter_show_plans:
    - text: "I see you're interested in contracting internet service. Here are our current plans:"
      # You would usually use a custom action or a rich response (buttons/cards) here, but for simple text:
    - text: |
        **Plan 1 (Basic):** 100 Mbps for $40/month
        **Plan 2 (Standard):** 300 Mbps for $60/month
        **Plan 3 (Premium):** 1 Gbps for $90/month
        Which plan would you like to choose? (e.g., Plan 2)
  utter_ask_email:
    - text: "Excellent choice! To send you the contract details, could you please provide your **email address**?"
  utter_contract_sent:
    - text: "Thank you for providing your email, **{email}**. The contract is on its way to your inbox! We appreciate you choosing our services."

  # Post-Service Flow
  utter_additional_request:
    - text: "Do you have any other requests, or is there anything else I can assist you with?"
  utter_ask_rating:
    - text: "Thank you for using our service! Finally, could you please give us a rating from **1 (poor) to 5 (excellent)** on your experience today?"

  # General/Ending
  utter_goodbye:
    - text: "Goodbye! Have a great day."
  utter_thanks_answered:
    - text: "You're welcome! I'm glad I could help."
  utter_acknowledge_rating:
    - text: "We appreciate your feedback! Have a wonderful day."
  utter_contract_cancelled:
      - text: "I understand. If you decide to contract a service in the future, please feel free to reach out. Thank you for considering us. Goodbye!"

# 5. Session Configuration
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
