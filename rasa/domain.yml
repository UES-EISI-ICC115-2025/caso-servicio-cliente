version: '3.1'
intents:
- affirm
- choose_plan
- deny
- goodbye
- greet
- negociacion_aceptar_oferta
- negociacion_cancelar_desistir
- negociacion_expresar_escepticismo
- negociacion_postponer_decision
- negociacion_solicitar_descuento
- negociacion_solicitar_detalles
- provide_apellido
- provide_direccion
- provide_dui
- provide_email
- provide_nombre
- provide_rating
- provide_telefono
- request_billing
- request_internet_service
- request_support
- stop
- thanks
- request_resend_contract_email
entities:
- dui
- plan
- email
- rating
- producto_id
- nombre_producto
- precio_producto
- apellido
- nombre
- direccion
- telefono
slots:
  plan:
    type: text
    influence_conversation: true
    mappings:
    - type: from_text
      entity: plan
      conditions:
      - active_loop: contrato_form
        requested_slot: plan
  producto_id:
    type: text
    influence_conversation: true
    mappings:
    - type: custom
      conditions:
      - active_loop: contrato_form
        requested_slot: plan
  nombre_producto:
    type: text
    influence_conversation: true
    mappings:
    - type: custom
      conditions:
      - active_loop: contrato_form
        requested_slot: plan
  precio_producto:
    type: text
    influence_conversation: true
    mappings:
    - type: custom
      conditions:
      - active_loop: contrato_form
        requested_slot: plan
  nombre:
    type: text
    influence_conversation: true
    mappings:
    - type: from_text
      conditions:
      - active_loop: contrato_form
        requested_slot: nombre
  apellido:
    type: text
    influence_conversation: true
    mappings:
    - type: from_text
      conditions:
      - active_loop: contrato_form
        requested_slot: apellido
  direccion:
    type: text
    influence_conversation: true
    mappings:
    - type: from_text
      conditions:
      - active_loop: contrato_form
        requested_slot: direccion
  email:
    type: text
    influence_conversation: false
    mappings:
    - type: from_text
      conditions:
      - active_loop: contrato_form
        requested_slot: email
  dui:
    type: text
    influence_conversation: true
    mappings:
    - type: from_text
      conditions:
      - active_loop: contrato_form
        requested_slot: dui
    - type: from_text
      conditions:
      - active_loop: validar_user_info_form
        requested_slot: dui 
  telefono:
    type: text
    influence_conversation: true
    mappings:
    - type: from_text
      conditions:
      - active_loop: contrato_form
        requested_slot: telefono
    - type: from_text
      conditions:
      - active_loop: validar_user_info_form
        requested_slot: telefono
  rating:
    type: float
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: rating
      intent: provide_rating
      conditions:
      - active_loop: calificacion_form
        requested_slot: rating
  comentarios:
    type: text
    influence_conversation: false
    mappings:
    - type: from_text
      conditions:
      - active_loop: calificacion_form
        requested_slot: comentarios
forms:
  contrato_form:
    required_slots:
    - plan
    - producto_id
    - nombre_producto
    - precio_producto
    - nombre
    - apellido
    - dui
    - direccion
    - telefono
    - email
  calificacion_form:
    required_slots:
    - rating
    - comentarios
  validar_user_info_form:
    required_slots:
    - dui
    - telefono

actions:
- utter_product_slots_summary
- utter_personal_info_summary
- utter_acknowledge_rating
- utter_goodbye
- utter_confirm_personal_info
- utter_additional_request
- utter_thanks_response
- utter_ask_rating
- utter_ask_comentarios
- action_send_email
- utter_contract_sent
- utter_contract_cancelled
- utter_ask_service
- utter_ask_continue
- utter_greet
- utter_confirm_product_selection
- action_ask_plan
- validate_contrato_form
- action_deactivate_contrato_form
- validate_calificacion_form

responses:
  utter_thanks_response:
  - text: De nada, para eso estoy.
  utter_greet:
  - text: ¡Buenas! Bienvenido a nuestro servicio. ¿En qué te puedo ayudar?
  - text: ¡Qué onda! ¿Listo para que te ayude con algo?
  utter_goodbye:
  - text: ¡Vaya pues, cuidate! ¡Feliz día!
  - text: ¡Adiós! Que tengas un buen día.
  utter_ask_service:
  - text: ¡Chivo! Te puedo ayudar con **chequear los detalles de un plan**, o **darte soporte técnico**.
  - text: ¡De a galán! Te ayudo a **agarrar un plan nuevo** o con **soporte técnico**.
  utter_additional_request:
  - text: ¿Necesitás algo más o ya estamos?
  - text: ¿Te puedo ayudar en alguna otra cosa?
  utter_ask_rating:
  - text: ¡Gracias por usar nuestro servicio! Por último, ¿nos podrías regalar una calificación del **1 (malo) al 5 (excelente)** sobre tu experiencia de hoy?
  - text: ¡Ya casi terminamos! Solo te pido que califiqués la atención con una nota del **1 al 5**. ¡Gracias!
  utter_ask_comentarios:
  - text: ¿Querés dejarnos algún comentario adicional sobre tu experiencia?
  - text: Si querés, podés agregar algún comentario extra sobre cómo te fue hoy.
  utter_acknowledge_rating:
  - text: ¡Te agradecemos tu opinión! ¡Que tengas un día chivo!
  - text: ¡Gracias por tu calificación! ¡Pasa un feliz día!
  utter_ask_continue:
  - text: ¿Seguro que quieres abandonar?
  utter_confirm_product_selection:
  - text: ¿es correcto?
  - text: ¿confirmás esta selección?
  utter_product_slots_summary:
  - text: has elegido el plan {nombre_producto}, que cuesta {precio_producto} al mes.
  - text: seleccionaste el plan {nombre_producto}, que cuesta {precio_producto} al mes.
  - text: escogiste el plan {nombre_producto}, que cuesta {precio_producto} al mes.
  - text: optaste por el plan {nombre_producto}, que cuesta {precio_producto} al mes.
  - text: tu selección es el plan {nombre_producto}, que cuesta {precio_producto} al mes.
  utter_personal_info_summary:
  - text: Perfecto, **{nombre} {apellido}**, con DUI **{dui}**, que vive en **{direccion}** y tiene el teléfono **{telefono}**.
  - text: Muy bien, **{nombre} {apellido}**, con DUI **{dui}**, que reside en **{direccion}** y su número de contacto es **{telefono}**.
  utter_confirm_personal_info:
  - text: ¿Confirmás que toda la información personal proporcionada es correcta y querés proceder con el contrato del plan?
  - text: ¿Estás seguro de que la información personal es correcta y querés seguir adelante con el contrato del plan?
  utter_ask_plan:
  - text: ¿Qué **plan de internet** te gustaría contratar?
  - text: ¿Cuál **plan de internet** querés elegir?
  utter_ask_dui:
  - text: ¿Me podés dar tu **DUI** por favor?
  - text: Por favor, ¿cuál es tu **número de DUI**?
  utter_ask_apellido:
  - text: ¿Me podés dar tu **apellido**, por favor?
  - text: Por favor, ¿cuál es tu **apellido**?
  utter_ask_nombre:
  - text: ¿Cuál es tu **nombre**?
  - text: ¿Me decís tu **nombre**, porfa?
  utter_ask_telefono:
  - text: ¿Cuál es tu **número de teléfono**?
  - text: ¿Me facilitás tu **teléfono** para contacto?
  utter_ask_direccion:
  - text: ¿Cuál es tu **direccion**?
  - text: Por favor, indicá tu **direccion** completa.
  utter_ask_email:
  - text: me podrías dar tu **correo electrónico**, porfa?
  - text: ¡Chivísimo! ¿Me regalás tu **correo**?
  utter_confirmar_contrato_form:
  - text: ¿Confirmás que toda la información proporcionada es correcta y querés proceder con el contrato del plan?
  - text: ¿Estás seguro de que la información es correcta y querés seguir adelante con el contrato del plan?
  utter_contract_sent:
  - text: Gracias por tu correo, **{email}**. ¡Ya va en camino el contrato a tu bandeja de entrada! Te agradecemos por preferirnos.
  - text: ¡Cabal! Ya te mandé el contrato a **{email}**. ¡Gracias por elegirnos, estamos a la orden!
  utter_contract_cancelled:
  - text: Entiendo, hemos cancelado el proceso de contratación. Si necesitás algo más en el futuro, no dudes en contactarnos.
  - text: No hay problema, hemos detenido el proceso de contratación. Estamos aquí para ayudarte cuando lo necesités.
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
